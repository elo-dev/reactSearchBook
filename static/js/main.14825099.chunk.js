(this.webpackJsonpdatatable=this.webpackJsonpdatatable||[]).push([[0],{132:function(e,t,n){e.exports={loader:"Loader_loader__2bjMa"}},151:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(28),o=n.n(r),s=n(53),i=n(56),l=n(13),j=n(2),u=(n(150),n(151),n(31)),b=n.n(u),d=n(49),O=n(97),h=n.n(O),m="https://www.googleapis.com/books/v1/volumes?q=",x="&key=AIzaSyBaOeJ0TqmIIt_DwOvSKPvlcJiZR-ZSczA",p="&maxResults=",v="&startIndex=",f=function(e){return h.a.get(e).then((function(e){return e.data}))},k=n(244),g=n(136),_=n(245),y=n(5),B=function(e){var t=e.setCategory,n=_.a.Option;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(_.a,{defaultValue:"\u0412\u0441\u0435",onChange:function(e){return t(e)},style:{width:200},children:[Object(y.jsx)(n,{value:"\u0412\u0441\u0435",children:"\u0412\u0441\u0435"}),Object(y.jsx)(n,{value:"Art",children:"\u0410\u0440\u0442"}),Object(y.jsx)(n,{value:"Biography",children:"\u0411\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u044f"}),Object(y.jsx)(n,{value:"Computers",children:"\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u044b"}),Object(y.jsx)(n,{value:"History",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(y.jsx)(n,{value:"Medical",children:"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0430"}),Object(y.jsx)(n,{value:"Poetry",children:"\u041f\u043e\u044d\u0437\u0438\u044f"}),Object(y.jsx)(n,{value:"Fiction",children:"\u0412\u044b\u043c\u044b\u0441\u0435\u043b"})]})})},N=function(e){var t=e.sortedBooks,n=_.a.Option;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(_.a,{defaultValue:"relevance",style:{width:200},onChange:function(e){return t(e)},children:[Object(y.jsx)(n,{value:"relevance",children:"\u041f\u043e \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438"}),Object(y.jsx)(n,{value:"newest",children:"\u041f\u043e \u043d\u043e\u0432\u0438\u0437\u043d\u0435"})]})})},I=function(e){var t=e.handleSubmit,n=e.setInputValue,c=e.setCategory,a=e.sortedBooks,r=e.inputValue;return Object(y.jsxs)("header",{children:[Object(y.jsx)("h1",{className:"title",children:"\u041f\u043e\u0438\u0441\u043a \u043a\u043d\u0438\u0433\u0438"}),Object(y.jsx)("form",{onSubmit:t,children:Object(y.jsxs)("div",{className:"search__book",children:[Object(y.jsx)(k.a,{pattern:"^[^\\s]+(\\s.*)?$",title:"\u041f\u0435\u0440\u0432\u044b\u0439 \u0441\u0438\u043c\u0432\u043e\u043b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u043c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438",value:r,onChange:function(e){return n(e.target.value)},style:{maxWidth:500}}),Object(y.jsx)(g.a,{type:"primary",htmlType:"submit",disabled:!r,children:"\u041f\u043e\u0438\u0441\u043a"})]})}),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsxs)("div",{className:"category__book",children:[Object(y.jsx)("span",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(y.jsx)(B,{setCategory:c})]}),Object(y.jsxs)("div",{className:"sort__books",children:[Object(y.jsx)("span",{children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(y.jsx)(N,{sortedBooks:a})]})]})]})},w=n(12),C=n(243),S=n(43),F=n.n(S),M=n.p+"static/media/no-picture.4ca53b4a.png",V=function(e){var t=e.id,n=e.volumeInfo,c=n.title,a=n.imageLinks,r=n.authors,o=n.categories;if(!a)return[Object(y.jsx)("div",{className:F.a.book,children:Object(y.jsxs)(C.a,{hoverable:!0,style:{width:220,height:500},cover:Object(y.jsx)("img",{alt:c,src:M}),children:[Object(y.jsx)("span",{className:F.a.category,children:o}),Object(y.jsx)("p",{className:F.a.name,children:c}),Object(y.jsx)("span",{className:F.a.author,children:r})]})},t)];var s=a.smallThumbnail;a.thumbnail;return Object(y.jsx)("div",{className:F.a.book,children:Object(y.jsx)(i.b,{to:"/book/".concat(t),children:Object(y.jsxs)(C.a,{hoverable:!0,style:{width:220,height:500},cover:Object(y.jsx)("img",{alt:c,src:s}),children:[Object(y.jsx)("span",{className:F.a.category,children:o?o[0]:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),Object(y.jsx)("p",{className:F.a.name,children:c}),Object(y.jsx)("span",{className:F.a.author,children:r})]})})})},L=n.p+"static/media/loader.6704a0b8.gif",R=n(132),A=n.n(R),D=function(){return Object(y.jsx)("div",{className:A.a.loader,children:Object(y.jsx)("img",{src:L,alt:""})})},J=function(e){var t=e.books,n=e.countBooks,c=e.filtredBooks,a=e.loading,r=e.loadMore;return Object(y.jsx)(y.Fragment,{children:a?Object(y.jsx)(D,{}):Object(y.jsx)(y.Fragment,{children:0!==t.length&&Object(y.jsxs)("main",{children:[n?Object(y.jsxs)("h2",{children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e ",n," \u043a\u043d\u0438\u0433"]}):null,Object(y.jsx)("div",{className:"all__books",children:c.length?c.map((function(e,t){var n=e.id,c=e.volumeInfo;return Object(y.jsx)(V,{id:n,volumeInfo:c},t)})):t.map((function(e,t){var n=e.id,c=e.volumeInfo;return Object(y.jsx)(V,{id:n,volumeInfo:c},t)}))}),Object(y.jsx)("div",{className:"loadMoreBtns",children:t.length%30===0?Object(y.jsx)(g.a,{style:{marginBottom:20,width:300},disabled:!1,onClick:r,children:"Load more ..."}):Object(y.jsx)(g.a,{style:{marginBottom:20,width:300},disabled:!0,onClick:r,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446 \u043d\u0435\u0442"})})]})})})},G=n(54),K=n.n(G),T=function(e){var t=e.books,n=Object(w.g)().id,c=t&&t.filter((function(e){return e.id===n})),a=Object(w.f)();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(g.a,{onClick:function(){a("/")},children:"\u041d\u0430\u0437\u0430\u0434"}),c.map((function(e,t){return Object(y.jsxs)("div",{className:K.a.currentBook,children:[Object(y.jsx)("div",{className:K.a.image__block,children:Object(y.jsx)("img",{src:e.volumeInfo.imageLinks.thumbnail,alt:""})}),Object(y.jsxs)("div",{className:K.a.description,children:[Object(y.jsx)("span",{className:K.a.categories,children:e.volumeInfo.categories}),Object(y.jsx)("h2",{children:e.volumeInfo.title}),Object(y.jsx)("span",{className:K.a.authors,children:e.volumeInfo.authors}),Object(y.jsx)("div",{className:K.a.description__block,children:Object(y.jsx)("p",{children:e.volumeInfo.description})})]})]},t)}))]})},q=n(1),E="BOOKS",z="LOADING",H="COUNT_BOOK",P="LOAD_MORE",U={books:[],countBooks:0,loading:!1},Z=function(e){return{type:z,payload:e}},Q=function(e){return{type:E,payload:e}},W=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(j.a)(r,2),i=o[0],u=o[1],O=Object(c.useState)(30),h=Object(j.a)(O,2),k=h[0],g=h[1],_=Object(w.f)(),B=Object(s.b)(),N=Object(s.c)((function(e){return e.booksReducer.loading})),C=Object(s.c)((function(e){return e.booksReducer.books})),S=Object(s.c)((function(e){return e.booksReducer.countBooks})),F=Object(c.useMemo)((function(){return Object(l.a)(C).filter((function(e){if(e.volumeInfo.categories)return e.volumeInfo.categories.toString()===i}))}),[i,C]);return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(I,{setInputValue:a,setCategory:u,handleSubmit:function(e){var t;e.preventDefault(),n.length&&(B((t=m+n+p+30+v+0+x,function(){var e=Object(d.a)(b.a.mark((function e(n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Z(!0)),e.next=3,f(t);case 3:c=e.sent,n(Q(c.items)),n((a=c.totalItems,{type:H,payload:a})),n(Z(!1));case 7:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}())),_("/"))},sortedBooks:function(e){var t;B(Z(!0)),B((t=m+n+p+30+"&orderBy="+e+x,function(){var e=Object(d.a)(b.a.mark((function e(n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Z(!0)),e.next=3,f(t);case 3:c=e.sent,n(Q(c.items)),n(Z(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),_("/")},inputValue:n}),Object(y.jsxs)(w.c,{children:[Object(y.jsx)(w.a,{path:"/",element:Object(y.jsx)(J,{loadMore:function(){var e;g(k+30),B((e=m+n+p+30+v+k+x,function(){var t=Object(d.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Z(!0)),t.next=3,f(e);case 3:c=t.sent,n((a=c.items,{type:P,payload:a})),n(Z(!1));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()))},inputValue:n,filtredBooks:F,countBooks:S,books:C,loading:N})}),Object(y.jsx)(w.a,{path:"/book/:id",element:Object(y.jsx)(T,{books:C,inputValue:n})})]})]})},Y=(n(240),n(91)),$=n(133),X=Object(Y.b)({booksReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(q.a)(Object(q.a)({},e),{},{books:Object(l.a)(t.payload)});case P:return Object(q.a)(Object(q.a)({},e),{},{books:[].concat(Object(l.a)(e.books),Object(l.a)(t.payload))});case H:return Object(q.a)(Object(q.a)({},e),{},{countBooks:t.payload});case z:return Object(q.a)(Object(q.a)({},e),{},{loading:t.payload});default:return e}}}),ee=Object(Y.c)(X,Object(Y.a)($.a));o.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(s.a,{store:ee,children:Object(y.jsx)(i.a,{children:Object(y.jsx)(W,{})})})}),document.getElementById("root"))},43:function(e,t,n){e.exports={book:"Book_book__169nL",category:"Book_category__1gDg8",name:"Book_name__FHLkG",author:"Book_author__1YE39"}},54:function(e,t,n){e.exports={currentBook:"CurrentBook_currentBook__2-q1U",image__block:"CurrentBook_image__block__25d7K",description:"CurrentBook_description__3FRmM",authors:"CurrentBook_authors__tGSGF",description__block:"CurrentBook_description__block__DQVNJ"}}},[[241,1,2]]]);
//# sourceMappingURL=main.14825099.chunk.js.map