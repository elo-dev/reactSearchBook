(this.webpackJsonpdatatable=this.webpackJsonpdatatable||[]).push([[0],{136:function(e,t,a){e.exports={loader:"Loader_loader__2bjMa"}},137:function(e,t,a){e.exports={error__container:"Error_error__container__1jLcC"}},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){"use strict";a.r(t);var r,n=a(0),c=a.n(n),o=a(28),s=a.n(o),i=a(47),l=a(56),u=a(13),j=a(2),d=(a(155),a(124)),b=a.n(d),O="https://www.googleapis.com/books/v1/volumes?q=",p="&key=AIzaSyBaOeJ0TqmIIt_DwOvSKPvlcJiZR-ZSczA",_="&maxResults=",h="&startIndex=",m=function(e){return b.a.get(e).then((function(e){return e.data}))},x=a(249),f=a(141),v=a(250),k=a(5),y=function(e){var t=e.setCategory,a=v.a.Option;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(v.a,{defaultValue:"\u0412\u0441\u0435",onChange:t,style:{width:200},children:[Object(k.jsx)(a,{value:"\u0412\u0441\u0435",children:"\u0412\u0441\u0435"}),Object(k.jsx)(a,{value:"Art",children:"\u0410\u0440\u0442"}),Object(k.jsx)(a,{value:"Biography",children:"\u0411\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u044f"}),Object(k.jsx)(a,{value:"Computers",children:"\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u044b"}),Object(k.jsx)(a,{value:"History",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(k.jsx)(a,{value:"Medical",children:"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0430"}),Object(k.jsx)(a,{value:"Poetry",children:"\u041f\u043e\u044d\u0437\u0438\u044f"}),Object(k.jsx)(a,{value:"Fiction",children:"\u0412\u044b\u043c\u044b\u0441\u0435\u043b"})]})})},g=function(e){var t=e.sortedBooks,a=v.a.Option;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(v.a,{defaultValue:"relevance",style:{width:200},onChange:t,children:[Object(k.jsx)(a,{value:"relevance",children:"\u041f\u043e \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438"}),Object(k.jsx)(a,{value:"newest",children:"\u041f\u043e \u043d\u043e\u0432\u0438\u0437\u043d\u0435"})]})})},R=a(53),B=a.n(R),N=function(e){var t=e.handleSubmit,a=e.setInputValue,r=e.setCategory,n=e.sortedBooks,c=e.inputValue;return Object(k.jsxs)("header",{children:[Object(k.jsx)("h1",{className:B.a.title,children:"\u041f\u043e\u0438\u0441\u043a \u043a\u043d\u0438\u0433\u0438"}),Object(k.jsx)("form",{onSubmit:t,children:Object(k.jsxs)("div",{className:B.a.search__book,children:[Object(k.jsx)(x.a,{pattern:"^[^\\s]+(\\s.*)?$",title:"\u041f\u0435\u0440\u0432\u044b\u0439 \u0441\u0438\u043c\u0432\u043e\u043b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u043c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438",value:c,onChange:function(e){return a(e.target.value)},className:B.a.input__search}),Object(k.jsx)(f.a,{type:"primary",htmlType:"submit",disabled:!c,children:"\u041f\u043e\u0438\u0441\u043a"})]})}),Object(k.jsxs)("div",{className:B.a.container,children:[Object(k.jsxs)("div",{className:B.a.category__book,children:[Object(k.jsx)("span",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(k.jsx)(y,{setCategory:r})]}),Object(k.jsxs)("div",{className:B.a.sort__books,children:[Object(k.jsx)("span",{children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(k.jsx)(g,{sortedBooks:n})]})]})]})},I=a(12),E=a(63),S=a(36),A=a(248),L=a.p+"static/media/no-picture.4ca53b4a.png",G=a(62),C=a.n(G),w=function(e){var t=e.id,a=e.volumeInfo,r=a.title,n=a.imageLinks,c=a.authors,o=a.categories;return Object(k.jsx)("div",{className:C.a.book,children:Object(k.jsx)(l.b,{to:"/book/".concat(t),children:Object(k.jsxs)(A.a,{hoverable:!0,className:C.a.book__card,cover:Object(k.jsx)("img",{alt:r,src:n?n.thumbnail:L}),children:[Object(k.jsx)("span",{className:C.a.category,children:o?o[0]:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),Object(k.jsx)("p",{className:C.a.name,children:r}),Object(k.jsx)("span",{className:C.a.author,children:c})]})})})},D=a.p+"static/media/loader.6704a0b8.gif",M=a(136),K=a.n(M),F=function(){return Object(k.jsx)("div",{className:K.a.loader,children:Object(k.jsx)("img",{src:D,alt:""})})},H=a(1),V=i.c,J=a(137),T=a.n(J),U=function(){var e=V((function(e){return e.booksReducer})).error_message;return Object(k.jsx)("div",{className:T.a.error__container,children:Object(k.jsxs)("h1",{children:["\u041e\u0448\u0438\u0431\u043a\u0430: ",e]})})},q=function(e){return function(t){var a=Object(i.c)((function(e){return e.booksReducer.error}));return Object(k.jsx)(k.Fragment,{children:a?Object(k.jsx)(U,{}):Object(k.jsx)(e,Object(H.a)({},t))})}},z=q((function(e){var t=e.books,a=e.countBooks,r=e.filtredBooks,n=e.loading,c=e.loadMore;return Object(k.jsx)(k.Fragment,{children:n?Object(k.jsx)(F,{}):Object(k.jsx)(k.Fragment,{children:0!==t.length&&Object(k.jsxs)("main",{children:[a?Object(k.jsxs)("h2",{children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e ",a," \u043a\u043d\u0438\u0433"]}):null,Object(k.jsx)(E.a,{gutter:16,children:r.length?r.map((function(e,t){var a=e.id,r=e.volumeInfo;return Object(k.jsx)(S.a,{flex:3,children:Object(k.jsx)(w,{id:a,volumeInfo:r})},t)})):t.map((function(e,t){var a=e.id,r=e.volumeInfo;return Object(k.jsx)(S.a,{flex:3,children:Object(k.jsx)(w,{id:a,volumeInfo:r})},t)}))}),Object(k.jsx)("div",{className:"loadMoreBtns",children:t.length%30===0?Object(k.jsx)(f.a,{style:{marginBottom:20,width:300},disabled:!1,onClick:c,children:"Load more ..."}):Object(k.jsx)(f.a,{style:{marginBottom:20,width:300},disabled:!0,onClick:c,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446 \u043d\u0435\u0442"})})]})})})})),P=a(54),X=a.n(P),Y=q((function(e){var t=e.books,a=Object(I.g)().id,r=t&&t.filter((function(e){return e.id===a})),n=Object(I.f)();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(f.a,{onClick:function(){n("/")},style:{display:"flex",margin:"0 auto"},children:"\u041d\u0430\u0437\u0430\u0434"}),r.map((function(e,t){return Object(k.jsxs)("div",{className:X.a.currentBook,children:[Object(k.jsx)("div",{className:X.a.image__block,children:Object(k.jsx)("img",{src:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:L,alt:e.volumeInfo.title})}),Object(k.jsxs)("div",{className:X.a.description,children:[Object(k.jsx)("span",{className:X.a.categories,children:e.volumeInfo.categories}),Object(k.jsx)("h2",{children:e.volumeInfo.title}),Object(k.jsx)("span",{className:X.a.authors,children:e.volumeInfo.authors}),Object(k.jsx)("div",{className:X.a.description__block,children:Object(k.jsx)("p",{children:e.volumeInfo.description?e.volumeInfo.description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})})]})]},t)}))]})})),Z=a(40),Q=a.n(Z),$=a(61);!function(e){e.BOOKS="BOOKS",e.LOADING="LOADING",e.COUNT_BOOK="COUNT_BOOK",e.LOAD_MORE="LOAD_MORE",e.ERROR="ERROR",e.ERROR_MESSAGE="ERROR_MESSAGE"}(r||(r={}));a(244);var W=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(j.a)(o,2),l=s[0],d=s[1],b=Object(n.useState)(30),x=Object(j.a)(b,2),f=x[0],v=x[1],y=Object(I.f)(),g=Object(i.b)(),R=V((function(e){return e.booksReducer})),B=R.loading,E=R.books,S=R.countBooks,A=Object(n.useMemo)((function(){return Object(u.a)(E).filter((function(e){if(e.volumeInfo.categories)return e.volumeInfo.categories.toString()===l}))}),[l,E]);return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(N,{setInputValue:c,setCategory:d,handleSubmit:function(e){var t;e.preventDefault(),a.length&&(g((t=O+a+_+30+h+0+p,function(){var e=Object($.a)(Q.a.mark((function e(a){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:r.LOADING,payload:!0}),e.next=4,m(t);case 4:n=e.sent,a({type:r.BOOKS,payload:n.items}),a({type:r.COUNT_BOOK,payload:n.totalItems}),a({type:r.LOADING,payload:!1}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:r.ERROR,payload:!0}),a({type:r.ERROR_MESSAGE,payload:e.t0.message}),a({type:r.LOADING,payload:!1});case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),y("/"))},sortedBooks:function(e){var t;E.length&&(g((t=O+a+_+30+"&orderBy="+e+p,function(){var e=Object($.a)(Q.a.mark((function e(a){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:r.LOADING,payload:!0}),e.next=4,m(t);case 4:n=e.sent,a({type:r.BOOKS,payload:n.items}),a({type:r.LOADING,payload:!1}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:r.ERROR,payload:!0}),a({type:r.ERROR_MESSAGE,payload:e.t0.message}),a({type:r.LOADING,payload:!1});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),y("/"))},inputValue:a}),Object(k.jsxs)(I.c,{children:[Object(k.jsx)(I.a,{path:"/",element:Object(k.jsx)(z,{loadMore:function(){var e;v(f+30),g((e=O+a+_+30+h+f+p,function(){var t=Object($.a)(Q.a.mark((function t(a){var n;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:r.LOADING,payload:!0}),t.next=4,m(e);case 4:n=t.sent,a({type:r.LOAD_MORE,payload:n.items}),a({type:r.LOADING,payload:!1}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:r.ERROR,payload:!0}),a({type:r.ERROR_MESSAGE,payload:t.t0.message}),a({type:r.LOADING,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))},inputValue:a,filtredBooks:A,countBooks:S,books:E,loading:B})}),Object(k.jsx)(I.a,{path:"/book/:id",element:Object(k.jsx)(Y,{books:E,inputValue:a})})]})]})},ee=(a(245),a(95)),te=a(138),ae={books:[],countBooks:0,loading:!1,error:!1,error_message:""},re=Object(ee.b)({booksReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.BOOKS:return Object(H.a)(Object(H.a)({},e),{},{books:Object(u.a)(t.payload)});case r.LOAD_MORE:return Object(H.a)(Object(H.a)({},e),{},{books:[].concat(Object(u.a)(e.books),Object(u.a)(t.payload))});case r.COUNT_BOOK:return Object(H.a)(Object(H.a)({},e),{},{countBooks:t.payload});case r.LOADING:return Object(H.a)(Object(H.a)({},e),{},{loading:t.payload});case r.ERROR:return Object(H.a)(Object(H.a)({},e),{},{error:t.payload});case r.ERROR_MESSAGE:return Object(H.a)(Object(H.a)({},e),{},{error_message:t.payload});default:return e}}}),ne=Object(ee.c)(re,Object(ee.a)(te.a));s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(i.a,{store:ne,children:Object(k.jsx)(l.a,{basename:"/reactSearchBook/",children:Object(k.jsx)(W,{})})})}),document.getElementById("root"))},53:function(e,t,a){e.exports={title:"Header_title__3SEjb",search__book:"Header_search__book__1Vfai",input__search:"Header_input__search__1l-uw",container:"Header_container__21wXn",category__book:"Header_category__book__YGBJH",sort__books:"Header_sort__books__56MXH"}},54:function(e,t,a){e.exports={currentBook:"CurrentBook_currentBook__2-q1U",image__block:"CurrentBook_image__block__25d7K",description:"CurrentBook_description__3FRmM",authors:"CurrentBook_authors__tGSGF",description__block:"CurrentBook_description__block__DQVNJ"}},62:function(e,t,a){e.exports={book:"Book_book__169nL",book__card:"Book_book__card__Uu8qo",category:"Book_category__1gDg8",name:"Book_name__FHLkG",author:"Book_author__1YE39"}}},[[246,1,2]]]);
//# sourceMappingURL=main.0242ec94.chunk.js.map